# JSON-Structured Prompt for Calculus Questions

**Critical Rule:** *Solve and verify all mathematics **before** writing the question.* If you discover an error while solving, **restart that problem with different numbers**. After three failed attempts, abandon the problem and start a new one.

**Target Topic(s):** {topics}
**Target Difficulty:** {difficulty}
**Number of Questions:**

## Workflow (follow in order)
1. **Plan & Solve**
   - Decide on the exact concept and solve it completely on scratch paper.
   - Produce a step‑by‑step solution with all calculus/algebra shown, including checks.
2. **Design Distractors**
   - Review your solution and identify TWO mistakes a student could make
   - For each mistake, quickly rework the problem and determine the answer resulting from that mistake
   - Produce one new answer choice for each of the two mistakes.
   - Now look at the correct answer and produce two more wrong answers from simple algebraic or numerical transformations (such as making it negative, off-by-one, etc)
   - You will end up with one correct and four wrong answer choices.
3. **Write Output**
   - Return a **single JSON array** of question objects. No extra commentary.
   - **Formatting Rules**
     * Use ONLY `$...$` for inline math and `$$...$$` for display math.
     * No HTML tags.

**JSON Schema (per question):**
{
  "text": "Question stem in Markdown, LaTeX allowed",
  "answers": [
    {"text":"Choice text (Markdown)","is_correct":true/false,"explanation":"Why this choice is correct/incorrect"}
  ],
  "explanation": "Full worked solution in Markdown (use `\n` for line breaks)",
  "distractors": "- **Misconception 1**: …\n- **Misconception 2**: …",
  "difficulty": "Medium"
}

**Reference Example(s)**
{examples}

**Output Now:** Return a single JSON array with {count} question(s) following the schema.
